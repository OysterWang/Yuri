<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
	<title>demo</title>
	<script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=91fcUGbvXDaGq9Bmhzfj2GOb"></script>
	
	<style type="text/css">
		html,body{
			width:85%;
			height:85%;
			margin:0;
			font-family:"微软雅黑";
		}
	</style>
</head>
<body>
	<div style="width:100%;height:100%;border:1px solid gray" id="container"></div>
	<button type="button" onclick="loadXMLDoc()">请求数据</button>
	<div id="myDiv"></div>
</body>
</html>
<script type="text/javascript">
	// 百度地图API功能
var map = new BMap.Map("container");	// 创建地图实例  
map.centerAndZoom(new BMap.Point(118.454, 32.955), 5);	// 初始化地图，设置中心点坐标和地图级别  
map.enableScrollWheelZoom();

var beijingPosition= new BMap.Point(116.432045,39.910683);
var xianPosition= new BMap.Point(108.54,34.16);
var taiwanPosition= new BMap.Point(121.491121,25.127053);

var points_1 = [beijingPosition,xianPosition];
var polyline_1 = new BMap.Polyline(points_1, {strokeColor:"blue", strokeWeight:3, strokeOpacity:0.5}); //创建弧线对象
map.addOverlay(polyline_1); //添加到地图中

function showline(){
var points_2 = [xianPosition,taiwanPosition];
var polyline_2 = new BMap.Polyline(points_2, {strokeColor:"blue", strokeWeight:3, strokeOpacity:0.5}); //创建弧线对象
map.addOverlay(polyline_2); //添加到地图中
}


setTimeout("showline()",2000); 

function loadXMLDoc()
{
var xmlhttp;
if (window.XMLHttpRequest)
  {// code for IE7+, Firefox, Chrome, Opera, Safari
  xmlhttp=new XMLHttpRequest();
  }
else
  {// code for IE6, IE5
  xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
  }
xmlhttp.onreadystatechange=function()
  {
  if (xmlhttp.readyState==4 && xmlhttp.status==200)
    {
    document.getElementById("myDiv").innerHTML=xmlhttp.responseText;
    }
  }
xmlhttp.open("GET","/getpoint.py",true);
xmlhttp.send();
}

</script>
